
# Do not modify this file directly, it is built by ./tasks/node/build-circleci-config.js.
version: 2.1
jobs:
  lint_js:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run lint
  unit_tests:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run build && npm run test-node && npm run test-node-unit
  publish_to_npm:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" > ~/.npmrc
      - run: npm publish
  test_0:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Blob --browserstack
      - run: npm run test-polyfills -- --feature=CustomEvent --browserstack
      - run: npm run test-polyfills -- --feature=DocumentFragment --browserstack
      - run: npm run test-polyfills -- --feature=Event --browserstack
      - run: npm run test-polyfills -- --feature=IntersectionObserverEntry
          --browserstack
      - run: npm run test-polyfills -- --feature=Map --browserstack
      - run: npm run test-polyfills -- --feature=Promise --browserstack
      - run: npm run test-polyfills -- --feature=Set --browserstack
      - run: npm run test-polyfills -- --feature=Symbol --browserstack
      - run: npm run test-polyfills -- --feature=URL --browserstack
  test_1:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=UserTiming --browserstack
      - run: npm run test-polyfills -- --feature=WeakMap --browserstack
      - run: npm run test-polyfills -- --feature=WeakSet --browserstack
      - run: npm run test-polyfills -- --feature=XMLHttpRequest --browserstack
      - run: npm run test-polyfills -- --feature=atob --browserstack
      - run: npm run test-polyfills -- --feature=console --browserstack
      - run: npm run test-polyfills -- --feature=matchMedia --browserstack
      - run: npm run test-polyfills -- --feature=requestAnimationFrame
          --browserstack
      - run: npm run test-polyfills -- --feature=setImmediate --browserstack
      - run: npm run test-polyfills -- --feature=Array.from --browserstack
  test_2:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Array.isArray --browserstack
      - run: npm run test-polyfills -- --feature=Array.of --browserstack
      - run: npm run test-polyfills -- --feature=Event.focusin --browserstack
      - run: npm run test-polyfills -- --feature=Event.hashchange --browserstack
      - run: npm run test-polyfills -- --feature=Function.name --browserstack
      - run: npm run test-polyfills -- --feature=Math.acosh --browserstack
      - run: npm run test-polyfills -- --feature=Math.asinh --browserstack
      - run: npm run test-polyfills -- --feature=Math.atanh --browserstack
      - run: npm run test-polyfills -- --feature=Math.cbrt --browserstack
      - run: npm run test-polyfills -- --feature=Math.clz32 --browserstack
  test_3:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Math.cosh --browserstack
      - run: npm run test-polyfills -- --feature=Math.expm1 --browserstack
      - run: npm run test-polyfills -- --feature=Math.hypot --browserstack
      - run: npm run test-polyfills -- --feature=Math.log10 --browserstack
      - run: npm run test-polyfills -- --feature=Math.log2 --browserstack
      - run: npm run test-polyfills -- --feature=Math.sign --browserstack
      - run: npm run test-polyfills -- --feature=Math.sinh --browserstack
      - run: npm run test-polyfills -- --feature=Math.tanh --browserstack
      - run: npm run test-polyfills -- --feature=Math.trunc --browserstack
      - run: npm run test-polyfills -- --feature=Number.Epsilon --browserstack
  test_4:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Number.MAX_SAFE_INTEGER
          --browserstack
      - run: npm run test-polyfills -- --feature=Number.MIN_SAFE_INTEGER
          --browserstack
      - run: npm run test-polyfills -- --feature=Number.isFinite --browserstack
      - run: npm run test-polyfills -- --feature=Number.isInteger --browserstack
      - run: npm run test-polyfills -- --feature=Number.isNaN --browserstack
      - run: npm run test-polyfills -- --feature=Number.isSafeInteger --browserstack
      - run: npm run test-polyfills -- --feature=Number.parseFloat --browserstack
      - run: npm run test-polyfills -- --feature=Number.parseInt --browserstack
      - run: npm run test-polyfills -- --feature=Object.assign --browserstack
      - run: npm run test-polyfills -- --feature=Object.create --browserstack
  test_5:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Object.defineProperties
          --browserstack
      - run: npm run test-polyfills -- --feature=Object.defineProperty
          --browserstack
      - run: npm run test-polyfills -- --feature=Object.entries --browserstack
      - run: npm run test-polyfills -- --feature=Object.freeze --browserstack
      - run: npm run test-polyfills -- --feature=Object.getOwnPropertyDescriptor
          --browserstack
      - run: npm run test-polyfills -- --feature=Object.getOwnPropertyNames
          --browserstack
      - run: npm run test-polyfills -- --feature=Object.getPrototypeOf
          --browserstack
      - run: npm run test-polyfills -- --feature=Object.is --browserstack
      - run: npm run test-polyfills -- --feature=Object.keys --browserstack
      - run: npm run test-polyfills -- --feature=Object.setPrototypeOf
          --browserstack
  test_6:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Object.values --browserstack
      - run: npm run test-polyfills -- --feature=String.fromCodePoint --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.hasInstance --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.isConcatSpreadable
          --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.iterator --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.match --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.replace --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.search --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.species --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.split --browserstack
  test_7:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Symbol.toPrimitive --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.toStringTag --browserstack
      - run: npm run test-polyfills -- --feature=Symbol.unscopables --browserstack
      - run: npm run test-polyfills -- --feature=console.assert --browserstack
      - run: npm run test-polyfills -- --feature=console.clear --browserstack
      - run: npm run test-polyfills -- --feature=console.count --browserstack
      - run: npm run test-polyfills -- --feature=console.debug --browserstack
      - run: npm run test-polyfills -- --feature=console.dir --browserstack
      - run: npm run test-polyfills -- --feature=console.dirxml --browserstack
      - run: npm run test-polyfills -- --feature=console.error --browserstack
  test_8:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=console.exception --browserstack
      - run: npm run test-polyfills -- --feature=console.group --browserstack
      - run: npm run test-polyfills -- --feature=console.groupCollapsed
          --browserstack
      - run: npm run test-polyfills -- --feature=console.groupEnd --browserstack
      - run: npm run test-polyfills -- --feature=console.info --browserstack
      - run: npm run test-polyfills -- --feature=console.log --browserstack
      - run: npm run test-polyfills -- --feature=console.markTimeline --browserstack
      - run: npm run test-polyfills -- --feature=console.profile --browserstack
      - run: npm run test-polyfills -- --feature=console.profileEnd --browserstack
      - run: npm run test-polyfills -- --feature=console.profiles --browserstack
  test_9:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=console.table --browserstack
      - run: npm run test-polyfills -- --feature=console.time --browserstack
      - run: npm run test-polyfills -- --feature=console.timeEnd --browserstack
      - run: npm run test-polyfills -- --feature=console.timeStamp --browserstack
      - run: npm run test-polyfills -- --feature=console.timeline --browserstack
      - run: npm run test-polyfills -- --feature=console.timelineEnd --browserstack
      - run: npm run test-polyfills -- --feature=console.trace --browserstack
      - run: npm run test-polyfills -- --feature=console.warn --browserstack
      - run: npm run test-polyfills -- --feature=document.currentScript
          --browserstack
      - run: npm run test-polyfills -- --feature=document.getElementsByClassName
          --browserstack
  test_10:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=document.querySelector
          --browserstack
      - run: npm run test-polyfills -- --feature=document.visibilityState
          --browserstack
      - run: npm run test-polyfills -- --feature=location.origin --browserstack
      - run: npm run test-polyfills -- --feature=screen.orientation --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.@@iterator
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.copyWithin
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.entries
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.every
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.fill --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.filter
          --browserstack
  test_11:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Array.prototype.find --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.findIndex
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.forEach
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.includes
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.indexOf
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.keys --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.lastIndexOf
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.map --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.reduce
          --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.reduceRight
          --browserstack
  test_12:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Array.prototype.some --browserstack
      - run: npm run test-polyfills -- --feature=Array.prototype.values
          --browserstack
      - run: npm run test-polyfills -- --feature=DOMTokenList.prototype.@@iterator
          --browserstack
      - run: npm run test-polyfills -- --feature=Date.prototype.toISOString
          --browserstack
      - run: npm run test-polyfills -- --feature=DocumentFragment.prototype.append
          --browserstack
      - run: npm run test-polyfills -- --feature=DocumentFragment.prototype.prepend
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.after
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.append
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.before
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.classList
          --browserstack
  test_13:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=Element.prototype.cloneNode
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.closest
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.dataset
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.matches
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.prepend
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.remove
          --browserstack
      - run: npm run test-polyfills -- --feature=Element.prototype.replaceWith
          --browserstack
      - run: npm run test-polyfills -- --feature=Function.prototype.bind
          --browserstack
      - run: npm run test-polyfills -- --feature=HTMLCanvasElement.prototype.toBlob
          --browserstack
      - run: npm run test-polyfills -- --feature=Node.prototype.contains
          --browserstack
  test_14:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=NodeList.prototype.@@iterator
          --browserstack
      - run: npm run test-polyfills -- --feature=NodeList.prototype.forEach
          --browserstack
      - run: npm run test-polyfills -- --feature=Promise.prototype.finally
          --browserstack
      - run: npm run test-polyfills -- --feature=RegExp.prototype.flags
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.@@iterator
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.codePointAt
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.endsWith
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.includes
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.padEnd
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.padStart
          --browserstack
  test_15:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: yarn install --frozen-lockfile
      - run: npm run test-polyfills -- --feature=String.prototype.repeat
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.startsWith
          --browserstack
      - run: npm run test-polyfills -- --feature=String.prototype.trim
          --browserstack
workflows:
  test:
    jobs:
      - lint_js:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
      - unit_tests:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
      - publish_to_npm:
          filters:
            tags:
              only: /^v.*/
            branches:
              ignore: /.*/
      - test_0:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
      - test_1:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
      - test_2:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
      - test_3:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
      - test_4:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
      - test_5:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
      - test_6:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
      - test_7:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
      - test_8:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
      - test_9:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
      - test_10:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
            - test_9
      - test_11:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
            - test_9
            - test_10
      - test_12:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
            - test_9
            - test_10
            - test_11
      - test_13:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
            - test_9
            - test_10
            - test_11
            - test_12
      - test_14:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
            - test_9
            - test_10
            - test_11
            - test_12
            - test_13
      - test_15:
          filters:
            tags:
              ignore: /^v.*/
            branches:
              ignore: master
          requires:
            - lint_js
            - unit_tests
            - test_0
            - test_1
            - test_2
            - test_3
            - test_4
            - test_5
            - test_6
            - test_7
            - test_8
            - test_9
            - test_10
            - test_11
            - test_12
            - test_13
            - test_14

